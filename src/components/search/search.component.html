<div class="search-container">
  <div class="header-wrapper">
    <h1 class="title">ğŸ• Parlor</h1>
  </div>

  <div class="search-wrapper">
    <div class="search-bar">
            <div class="search-section location-section">
        <div class="section-icon">ğŸ“</div>
        <div class="section-content">
          <label class="section-label">Where to?</label>
          <div #placePickerContainer class="place-picker-container"></div>
        </div>
      </div>

      <div class="divider"></div>

      <div class="divider"></div>

      <div class="search-section distance-section">
        <div class="section-content">
          <label class="section-label">Distance</label>
          <select [(ngModel)]="preferences.maxDistance" class="search-select">
            <option [value]="5">5 miles</option>
            <option [value]="10">10 miles</option>
            <option [value]="15">15 miles</option>
            <option [value]="25">25 miles</option>
            <option [value]="50">50 miles</option>
          </select>
        </div>
      </div>

      <div class="divider"></div>

      <div class="search-section dietary-section">
        <div class="section-content">
          <label class="section-label">Dietary</label>
          <button class="filter-dropdown" (click)="toggleDietaryDropdown()">
            {{ selectedDietaryCount > 0 ? selectedDietaryCount + ' selected' : 'Any' }}
          </button>
        </div>
      </div>

      <button class="search-action-btn" (click)="searchByAddress()" [disabled]="loading">
        <span class="search-icon">ğŸ”</span>
      </button>
    </div>

    <button class="current-location-link" (click)="useCurrentLocation()" [disabled]="loading">
      <span class="location-icon">ğŸ“</span> Use My Location
    </button>
  </div>

  <div class="dietary-dropdown" *ngIf="showDietaryDropdown">
    <div class="dropdown-header">
      <h4>Dietary Restrictions</h4>
      <button class="close-dropdown" (click)="toggleDietaryDropdown()">âœ•</button>
    </div>
    <div class="dietary-options">
      <label
        *ngFor="let restriction of availableDietaryRestrictions"
        class="dietary-checkbox"
      >
        <input
          type="checkbox"
          [checked]="isDietaryRestrictionSelected(restriction)"
          (change)="toggleDietaryRestriction(restriction)"
        />
        <span>{{ restriction }}</span>
      </label>
    </div>
  </div>
</div>
