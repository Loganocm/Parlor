<div class="search-container">
  <h1 class="title">🍕 PizzaPicker</h1>
  <p class="subtitle">Find the perfect pizza near you</p>

  <div class="search-wrapper">
    <div class="search-bar">
      <div class="search-section location-section">
        <div class="section-icon">📍</div>
        <div class="section-content">
          <input
            type="text"
            [(ngModel)]="address"
            placeholder="Enter delivery address"
            class="search-input"
            (keyup.enter)="searchByAddress()"
          />
        </div>
      </div>

      <div class="divider"></div>

      <div class="search-section distance-section">
        <div class="section-icon">📏</div>
        <div class="section-content">
          <label class="section-label">Distance</label>
          <select [(ngModel)]="preferences.maxDistance" class="search-select">
            <option [value]="5">5 mi</option>
            <option [value]="10">10 mi</option>
            <option [value]="15">15 mi</option>
            <option [value]="25">25 mi</option>
            <option [value]="50">50 mi</option>
          </select>
        </div>
      </div>

      <div class="divider"></div>

      <div class="search-section dietary-section">
        <div class="section-icon">🥗</div>
        <div class="section-content">
          <label class="section-label">Dietary</label>
          <button class="filter-dropdown" (click)="toggleDietaryDropdown()">
            {{ selectedDietaryCount > 0 ? selectedDietaryCount + ' selected' : 'Any' }}
          </button>
        </div>
      </div>

      <button class="search-action-btn" (click)="searchByAddress()" [disabled]="loading">
        <span class="search-icon">🔍</span>
      </button>
    </div>

    <button class="current-location-link" (click)="useCurrentLocation()" [disabled]="loading">
      📍 Use current location
    </button>
  </div>

  <div class="dietary-dropdown" *ngIf="showDietaryDropdown">
    <div class="dropdown-header">
      <h4>Dietary Restrictions</h4>
      <button class="close-dropdown" (click)="toggleDietaryDropdown()">✕</button>
    </div>
    <div class="dietary-options">
      <label
        *ngFor="let restriction of availableDietaryRestrictions"
        class="dietary-checkbox"
      >
        <input
          type="checkbox"
          [checked]="isDietaryRestrictionSelected(restriction)"
          (change)="toggleDietaryRestriction(restriction)"
        />
        <span>{{ restriction }}</span>
      </label>
    </div>
  </div>
</div>
